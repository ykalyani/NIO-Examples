function jqcPageController(){function addFactory(e,t){pageController.addFactory(e,t)}var pageController={};var bootPhases=["configure","layout","render"];var bootState={instantiateModules:false,register:false,instantiateComponents:false,configure:false,layout:false,render:false};var moduleList=new Array;var componentList=new Array;pageController.factories={};pageController.modules={};pageController.components={};pageController.instantiateModules=function(){console.log("== jqc: instantiateModules phase started ==");var modules=jQuery("[jqc-module]");var _jqcPageController=pageController;modules.each(function(){var moduleElement=jQuery(this);var moduleFactoryFunctionName=moduleElement.attr("jqc-module");var moduleId=moduleElement.attr("id");if(typeof moduleId==="undefined"){moduleId=moduleFactoryFunctionName}try{var module=eval(moduleFactoryFunctionName+"()");_jqcPageController.addModule(moduleId,module)}catch(e){console.log("Error instantiating module: "+moduleId+", exception: "+e)}})};pageController.addModule=function(e,t){t.jqc={pageController:pageController,id:e};moduleList.push(t);if(e!=null){pageController.modules[e]=t}console.log("   added module: "+e)};pageController.register=function(){console.log("== jqc: register phase started ==");bootState.register=true;addFactory("jqcResponsiveLayoutGrid",function(){return jqcResponsiveLayoutGrid()});addFactory("jqcResponsiveLayoutManager",function(){return jqcResponsiveLayoutManager()});addFactory("jqcEmpty",function(){return jqcEmpty()});addFactory("jqcLabel",function(){return jqcLabel()});addFactory("jqcPanelDeck",function(){return jqcPanelDeck()});addFactory("jqcLayer",function(){return jqcLayer()});addFactory("jqcOverlay",function(){return jqcOverlay()});addFactory("jqcProgressBar",function(){return jqcProgressBar()});addFactory("jqcAccordion",function(){return jqcAccordion()});addFactory("jqcDataService",function(){return jqcDataService()});addFactory("jqcDataModel",function(){return jqcDataModel()});addFactory("jqcViewModel",function(){return jqcViewModel()});addFactory("jqcList",function(){return jqcList()});addFactory("jqcTable",function(){return jqcTable()});addFactory("jqcTreeList",function(){return jqcTreeList()});addFactory("jqcButton",function(){return jqcButton()});addFactory("jqcForm",function(){return jqcForm()});addFactory("jqcTimer",function(){return jqcTimer()});jQuery("[jqc-factory]").each(function(e,t){var n=jQuery(this);var r=n.attr("jqc-factory");var i=pageController.lookupFunction(r);var s=n.attr("id");if(typeof s==="undefined"){s=r}addFactory(s,function(){return i()});console.log("   added factory "+s)})};pageController.addFactory=function(e,t){pageController.factories[e]=t};pageController.instantiateComponents=function(){console.log("== jqc: instantiate phase started ==");bootState.instantiate=true;var e=pageController;var t=jQuery("[jqc-type]");t.each(function(){var t=jQuery(this);try{var n=e.factories[t.attr("jqc-type")];var r=t.attr("id");if(typeof n==="undefined"){console.error("   jqc error: No factory function found for component (id = "+r+") with type: "+t.attr("jqc-type"))}else{var i=n();e.addComponent(r,i,t)}}catch(s){console.error("   jqc error: Instantiation of component (id = "+r+", type = "+t.attr("jqc-type")+") failed. Exception: "+s)}})};pageController.addComponent=function(e,t,n){t.jqc={pageController:pageController,id:e,element:n};componentList.push(t);if(e!=null){pageController.components[e]=t}};pageController.executeModulePhase=function(e){console.log("== jqc: "+e+" phase started ==");bootState[e]=true;for(var t=0;t<moduleList.length;t++){var n=moduleList[t];if(typeof n[e]==="function"){n[e](pageController)}}};pageController.executeComponentPhase=function(e){console.log("== jqc: "+e+" phase started ==");bootState[e]=true;for(var t=0;t<componentList.length;t++){var n=componentList[t];if(typeof n[e]==="function"){n[e]()}}};pageController.boot=function(){if(!bootState.instantiateModules){pageController.instantiateModules()}if(!bootState.register){pageController.register();pageController.executeModulePhase("postRegister")}if(!bootState.instantiateComponents){pageController.instantiateComponents();pageController.executeModulePhase("postInstantiate")}for(var e=0;e<bootPhases.length;e++){var t=bootPhases[e];if(!bootState[t]){pageController.executeComponentPhase(t);pageController.executeModulePhase("post"+t.substring(0,1).toUpperCase()+t.substring(1,t.length))}}console.log("== jqc: Boot done ==")};pageController.lookupFunction=function(functionExpression){var dotIndex=functionExpression.indexOf(".");var funcOwner=dotIndex>-1?functionExpression.substring(0,dotIndex):"";var funcName=dotIndex>-1?functionExpression.substring(dotIndex+1,functionExpression.length):functionExpression;if(funcName.indexOf("()")==funcName.length-2){funcName=funcName.substring(0,funcName.length-2)}var func=null;if(funcOwner!==""){var module=pageController.modules[funcOwner];if(typeof module!=="undefined"){func=module[funcName];if(typeof func==="undefined"){throw"No function named "+funcName+" found in module "+funcOwner}}else{var component=pageController.components[funcOwner];if(typeof component!=="undefined"){func=component[funcName];if(typeof func==="undefined"){throw"No function named "+funcName+" found in component "+funcOwner}}else{throw"No module or component found named "+funcOwner}}}else{func=eval(funcName)}if(typeof func!=="function"){throw""+funcName+" is not a function."}return func};return pageController}function jqcEventManager(){var e={};var t={};var n=0;e.addListener=function(r,i){var s={id:n++,listenerFunction:i};s.remove=function(){e.removeListener(s)};if(typeof t[r]=="undefined"){t[r]=[]}t[r].push(s);return s};e.addListenerFromElementAttribute=function(t,n,r){var i=t.attr(n);if(typeof i!=="undefined"){var s=n.substring(4,n.length);var o=r.lookupFunction(i);return e.addListener(s,o)}return null};e.removeListener=function(e){for(var n in t){var r=t[n];for(var i=0;i<r.length;i++){if(r[i].id==e.id){r.splice(i,1);return}}}};e.fireEvent=function(e,n){var r=t[e];if(typeof r=="undefined"){return}for(var i=0;i<r.length;i++){n(r[i])}};e.fireEventOn=function(t,n){t.on(n,function(t){e.fireEvent(n,function(e){e.listenerFunction(t)})})};return e}function jqcResponsiveLayoutManager(){function E(t,n,r){var i=e.jqc.element.attr(t);if(typeof i!="undefined"){A(i,n,r)}}function S(e,t){t.splice(0,t.length);var n=e.split(",");for(var r=0;r<n.length;r++){t.push(parseInt(n[r].trim(),10))}}function x(e){var u={element:e,widthIntervals:[],columnCounts:[],width:0,innerWidth:0,widths:[],paddings:[],cellSpacings:[],columnCount:n,cells:[],sortCells:false,columnBoundaries:[]};N(u);var a=u.element.attr(m);if(typeof a!="undefined"){S(a,u.widthIntervals)}else{C(t,u.widthIntervals)}var f=u.element.attr(c);if(typeof f!="undefined"){u.columnCount=parseInt(f,10)}T(u,h,u.columnCounts,u.widthIntervals.length,r);T(u,p,u.widths,u.widthIntervals.length,i);T(u,d,u.paddings,u.widthIntervals.length,s);T(u,v,u.cellSpacings,u.widthIntervals.length,o);k(u);w.push(u)}function T(e,t,n,r,i){var s=e.element.attr(t);if(typeof s!="undefined"){A(s,n,e.widthIntervals.length)}else{C(i,n)}}function N(e){e.element.contents().filter(function(){return this.nodeType==3&&!/\S/.test(this.nodeValue)}).remove()}function C(e,t){for(var n=0;n<e.length;n++){t[n]=e[n]}}function k(e){var t=e.element.find(f);t.each(function(t,n){L(e,jQuery(this),e.cells);e.cells[t].naturalIndex=t})}function L(e,t,n){var r={element:t,width:0,widths:[],naturalIndex:0,indexForInterval:-1,indexes:[]};var i=t.attr(a);A(i,r.widths,e.widthIntervals.length);var s=t.attr(l);r.indexes.slice(0,r.indexes.length);if(typeof s!="undefined"){A(s,r.indexes,e.widthIntervals.length);e.sortCells=true}else{for(var o=0;o<e.widthIntervals.length;o++){r.indexes.push("")}}n.push(r)}function A(e,t,n){O(t,n);var r=e.split(" ");for(var i=0;i<r.length;i++){var s=r[i].indexOf(":");var o=parseInt(r[i].substring(0,s),10);t[o]=r[i].substring(s+1)}}function O(e,t){for(var n=0;n<t;n++){e[n]=""}}function M(e){for(var t=0;t<e.cells.length;t++){var n=e.cells[t];var r=D(n.indexes,e.widthInterval,"");n.indexForInterval=r==""?-1:parseInt(r,10)}var i=new Array(e.cells.length);for(var t=0;t<e.cells.length;t++){var n=e.cells[t];if(n.indexForInterval!=-1){i[n.indexForInterval]=n}}for(var t=0;t<e.cells.length;t++){var n=e.cells[t];if(n.indexForInterval==-1){var s=0;while(i[n.naturalIndex+s]!=null){s++}i[n.naturalIndex+s]=n}}for(var t=0;t<i.length;t++){i[t].element.appendTo(e.element)}return i}function _(e,t,n){var r=e.substring(e.length-1,e.length);if(r=="c"){var i=e.substring(0,e.length-1);n.columnWidth=parseInt(i,10);return t.columnBoundaries[n.columnIndex+n.columnWidth].prevColEnd-t.columnBoundaries[n.columnIndex].nextColBegin}}function D(e,t,n){var r=t;while(e[r]==""&&r>=0){r--}if(r>=0)return e[r];return n}function P(e,t){var n=e.substring(e.length-1,e.length);if(n=="%"){var r=e.substring(0,e.length-1);return Math.floor(t*parseFloat(r)/100)}else{return parseInt(e,10)}}function H(e,t,n){e.innerWidth=e.width-t*2+n;e.columnBoundaries=new Array(e.columnCount+1);for(var r=0;r<e.columnCount;r++){var i=Math.floor(e.innerWidth*r/e.columnCount);var s=i-Math.floor(n/2);var o=i+Math.floor(n/2);e.columnBoundaries[r]={prevColEnd:s,boundary:i,nextColBegin:o}}e.columnBoundaries[e.columnCount]={prevColEnd:e.innerWidth-Math.floor(n/2),boundary:e.innerWidth}}function B(e,t){for(var n=0;n<t.length;n++){if(e<t[n])return n-1}return t.length-1}var e={};var t=[0,300,600,900,1200];var n=12;var r=["12","","","",""];var i=["100%","","","","1200"];var s=["0","","","",""];var o=["0","","","",""];var u="div[jqc-row]";var a="jqc-cell";var f=">div["+a+"]";var l="jqc-cell-indexes";var c="jqc-column-count";var h="jqc-column-counts";var p="jqc-row-widths";var d="jqc-row-paddings";var v="jqc-cell-spacings";var m="jqc-width-intervals";var g=0;var y=0;var b=jqcEventManager();var w=new Array;e.widthChange=function(t){b.addListener("width-change",t);return e};e.widthIntervalChange=function(t){b.addListener("width-interval-change",t);return e};e.configure=function(){console.log("   jqcResponsiveLayoutManager NEW configure() start");var a=e.jqc.element.attr(m);if(typeof a!="undefined"){S(a,t)}var f=e.jqc.element.attr(c);if(typeof f!="undefined"){n=parseInt(f,10)}E(h,r,t.length);E(p,i,t.length);E(d,s,t.length);E(v,o,t.length);w.splice(0,w.length);var l=jQuery(u);l.each(function(){x(jQuery(this))});var g=e.jqc.pageController;var y=e.jqc.element;b.addListenerFromElementAttribute(y,"jqc-width-change",g);b.addListenerFromElementAttribute(y,"jqc-width-interval-change",g);jQuery(window).resize(function(){e.layout()});console.log("   jqcResponsiveLayoutManager configure() end")};e.layout=function(){var n=g;g=jQuery(window).innerWidth();var r=y;y=B(g,t);for(var i=0;i<w.length;i++){var s=w[i];var o=s.element.parent().innerWidth();s.widthInterval=B(o,s.widthIntervals);var u=D(s.widths,s.widthInterval,"100%");s.width=P(u,o);if(s.width>0){s.element.css("width",s.width).show()}else{s.element.hide()}var a=D(s.paddings,s.widthInterval,"0");var f=P(a,s.width);var l=D(s.cellSpacings,s.widthInterval,"0");var c=P(l,s.width);s.columnCount=parseInt(D(s.columnCounts,s.widthInterval,"12"),10);H(s,f,c);var h=s.cells;if(s.sortCells){h=M(s)}e.layoutCells(s,h,f,c)}b.fireEvent("width-change",function(e){e.listenerFunction(g,n)});if(y!=r){b.fireEvent("width-interval-change",function(e){e.listenerFunction(y,r)})}};e.layoutCells=function(e,t,n,r){var i=0;for(var s=0;s<t.length;s++){var o=t[s];o.columnIndex=i;var u=D(o.widths,e.widthInterval,"0");o.width=_(u,e,o);if(o.width>0){o.element.css("width",o.width);if(o.columnIndex==0){o.element.css("margin-left",n)}else{o.element.css("margin-left",r)}o.element.show()}else{o.element.hide()}i+=o.columnWidth;if(i>=e.columnCount){i=0}}};return e}jqc={};jQuery(document).ready(function(){if(typeof jqcAutoBoot==="undefined"||jqcAutoBoot===true){console.log("== jqc: Auto Boot Begin");jqc.pageController=jqcPageController();jqc.pageController.boot();console.log("== jqc: Auto Boot Done")}else{console.log("== jqc: No Auto Boot")}})